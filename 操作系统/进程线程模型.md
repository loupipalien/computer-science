## 进程现场模型
### 目录

### 进程的基本概念
#### 多道程序设计
允许多个程序同时进入内存并允许, 其目的是为了提高系统的效率
#### 并发环境和并发程序
并发环境: 一段时间内, 单处理器上有两个或两个以上的程序同时处于开始运行但尚未结束的的状态并且**次序不是事先确定的**
进程: 是具有独立功能的程序关于某个数据集合上的一次运行活动, 是系统进行资源分配和调度的独立单位
  - 程序的一次执行过程
  - 是正在运行程序的抽象
  - 将一个 CPU 变幻成多个虚拟的 CPU
  - 系统资源以进程为单位分配, 每个进程具有独立的地址空间
  - 操作系统将 CPU 的调度给需要的进程
#### 进程控制块 PCB (Linux: task_struck; Windows: EPROCESS, KPROCESS, PEB)
- PCB 又称进程描述符或进程属性
  - 操作系统用于管理控制进程的一个专门的数据结构
  - 记录进程的各种属性, 描述进程的动态变化过程
- PCB 是系统感知进程存在的唯一标志
  - 进程和 PCB 是一一对应的
- 进程表是所有进程的 PCB 集合
#### PCB 包括的内容
- 进程的描述信息
  - 进程标识符 (PID), 唯一, 通常是一个整数
  - 进程名, 通常基于可执行文件名, 不唯一
  - 用户标识符 (UID)
  - 进程组关系
- 进程的控制信息
  - 当前状态
  - 优先级
  - 代码执行入口地址
  - 程序的磁盘地址
  - 运行统计信息 (执行时间, 页面调度)
  - 进程键同步和通信
  - 进程的队列指针
  - 进程的消息队列指针
- 进程所有用的资源和使用的情况
  - 虚拟地址空间的状况
  - 打开文件列表
- CPU 现场信息
  - 寄存器值 (通用寄存器, 程序计数器 PC, 程序状态字 PSW, 栈指针)
  - 指向该进程页表的指针

### 进程状态及状态转换
#### 进程的三种基本状态
- 运行态: 占有 CPU, 并在 CPU 上执行
- 就绪态: 已经具备运行条件, 但由于没有空闲 CPU, 而暂时不能运行
- 等待态: 因等待某一事件而暂时不能执行
#### 三状态模型及状态转换
- 就绪态到运行态
  - 调度程序选择一个新的程序
- 运行态到就绪态
  - 运行进程使用完了时间片
  - 一个高优先级进程进入就绪态抢占正在运行的进程
- 运行态到等待态
  - 当一个进程等待某个事件发生时
    - 请求 OS 服务
    - 对资源的访问尚不能进行
    - 等待 I/O 结果
    - 等待另一进程提供信息
    - ...
- 等待态到就绪态
  - 所等待的事件发生了
#### 进程的其他状态
- 创建态
  - 已完成创建一进程所必要的工作, 如 PID,PCB
  - 但由于资源有限等原因尚未同意执行该进程
- 终止态
  - 终止执行后, 进程进入该状态
  - 可完成一些数据统计工作
  - 资源回收
- 挂起态
  - 用于负载体调节
  - 进程不占用内存空间, 其进程映像交换到磁盘上
#### 五状态进程模型 (增加创建态和终止态)
#### 七状态进程模型 (增加就绪挂起态和阻塞挂起态)
